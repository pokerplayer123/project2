<head>
  <title>Tutorial Helper</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<template name="layout">
  {{ >nav }}

  <div class="container">
    {{#if currentUser}}
    <!-- -->
    {{> yield }}
    <!-- -->
    {{else}}
    <!-- -->
    {{> atForm}}
    <!-- -->
    {{/if}}
  </div>

  <script>
    $(document).ready(function () {
      $(".button-collapse").sideNav();
      $(".dropdown-button").dropdown();
      $('.modal').modal();
    });
  </script>
</template>

<template name="nav">

  <nav class="amber nav-extended">
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">&nbsp;&nbsp;Tutorial Helper&nbsp;&nbsp;</a>
      <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        {{#if currentUser}}
        <li><a href="/">Tutorials</a></li>
        <li><a href="/editProfile">Edit Profile</a></li>
        {{/if}}
        <li>
          {{> atNavButton}}
        </li>
      </ul>
      <ul class="side-nav" id="mobile-demo">
        {{#if currentUser}}
        <li><a href="/">Tutorials</a></li>
        <li><a href="/editProfile">Edit Profile</a></li>
        {{/if}}
        <li>
          {{> atNavButton}}
        </li>
      </ul>
    </div>
  </nav>

</template>

<template name="tutorials">
  <h4>My Tutorials</h4>

  {{#if isTutor}}
  <div class="right-align">
    <a class="waves-effect waves-light btn modal-trigger" href="#addModal">Add Tutorial</a>
  </div>
  {{/if}}

  <ul class="collection">
    {{#each tutorials}} {{> tutorial }} {{/each}}
  </ul>

  <!-- modals -->
  {{> addTutorial}}
</template>

<template name="tutorial">
  <li class="collection-item">
    <img src="desktop/logo-unsw.png" alt="" class="circle">
    <span class="tutorial"><h4>{{tutorialName}}</h4></span>
    <strong>Course name: </strong>{{courseName}}<br>
    <strong>Start Time: </strong> {{startTime}}<br>
    <strong>End Time: </strong> {{endTime}}<br>
    <strong>Start Date: </strong> {{startDate}}<br>
    <strong>End Date: </strong>{{endDate}}
    <a href="#" class="delete-tutorial secondary-content"><i class="material-icons">close</i></a>
    <a href="/tutorials/{{_id}}">Detail</a>
  </li>
</template>

<template name="addTutorial">
  <!--Modal Structure -->
  <div id="addModal" class="modal">
    <div class="modal-content">
      <h4>Add Tutorial</h4>
      <form class="add-form">
        <input type="text" name="tutorialName" placeholder="Tutorial name...">
        <input type="text" name="courseName" placeholder="Course name...">
        <input type="text" name="password" placeholder="Room password...">
        <input type="date" name="startDate" placeholder="Set the start date...">
        <input type="date" name="endDate" placeholder="Set the end date...">
        <input type="time" name="startTime" placeholder="Start time...">
        <input type="time" name="endTime" placeholder="End time...">
        <button class="btn waves-effect waves-light" type="submit" name="action">Submit
          <i class="material-icons right">send</i>
        </button>
      </form>
    </div>
  </div>
</template>

<template name="tutorialDetail">
  <div>
    <img src="desktop/logo-unsw.png" alt="" class="circle">
    <span class="tutorial"><h4>{{tutorialName}}</h4></span>
    <strong>Course name: </strong>{{courseName}}<br>
    <strong>Start Time: </strong> {{startTime}}<br>
    <strong>End Time: </strong> {{endTime}}<br>
    <strong>Start Date: </strong> {{startDate}}<br>
    <strong>End Date: </strong>{{endDate}}
  </div>
</template>

<template name="editProfile">
  <!--Modal Structure -->
  <div id="editProfile" class="">
    <div class="modal-content">
      <h4>Edit Profile</h4>
      <form class="edit-profile-form">
        <label>zID</label>
        <input type="text" name="zid" value="{{userProfile.zid}}" placeholder="zId">
        <label>Firstname</label>
        <input type="text" name="firstname" value="{{userProfile.firstname}}" placeholder="firstname">
        <label>Lastname</label>
        <input type="text" name="lastname" value="{{userProfile.lastname}}" placeholder="lastname">
        <label>Gender</label>
        <select name="gender" style="display: block">
          <option value="male" {{compareGender 'male'}}>Male</option>
          <option value="female" {{compareGender 'female'}}>Female</option>
        </select>
        <br>
        <button class="btn waves-effect waves-light" type="submit" name="action">Submit
          <i class="material-icons right">send</i>
        </button>
      </form>
    </div>
  </div>
</template>